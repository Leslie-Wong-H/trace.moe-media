# trace.moe-media

[![License](https://img.shields.io/github/license/soruly/trace.moe-media.svg?style=flat-square)](https://github.com/soruly/trace.moe-media/blob/master/LICENSE)
[![GitHub Workflow Status](https://img.shields.io/github/workflow/status/soruly/trace.moe-media/Node.js%20CI?style=flat-square)](https://github.com/soruly/trace.moe-media/actions)
[![Discord](https://img.shields.io/discord/437578425767559188.svg?style=flat-square)](https://discord.gg/K9jn6Kj)

### Media server for serving video preview for [trace.moe](https://github.com/soruly/trace.moe)

This server uses a "video scene cutter" which automatically detect timestamp boundaries of a shot, and then trim the shot out without leaking / exposing other frames that belongs to previous / next scenes.

#### Example
When search result from trace.moe returns an anime, episode and a timecode, it can generate a video preview for the scene at that time code.

Query image:

![](https://images.plurk.com/3F4Mg666qw78rImF7DR2SG.jpg )

Search result: `Shelter, episode 1, timecode: 00:00:51.83`

Video Preview at time `00:00:51.83`

| Fixed offset          | Auto detect        |
|:---------------------:|:------------------:|
| ![](https://images.plurk.com/7lURadxyYVrvPl52M7mm3G.gif ) | ![](https://images.plurk.com/2mcJxwtMJFSVhLQ8XDUYI3.gif ) |
| 00:50.93 (-0.9) to 00:53.93 (+2.1)  | 00:49.22 to 00:51.30 (dynamic) |

However, someone may abuse the preview.

By using first / last frames of the fixed offset preview, user may be able to use that to recursively search again and reveal extra duration of the original video.

But with the video preview generated by auto detect method, using any frames from it for searching would (mostly) result the same video preview, thus protecting the original video content.

### Demo
-  Telegram Bot [@whatanimebot](http://t.me/whatanimebot) ([source](https://github.com/soruly/trace.moe-telegram-bot))

- Web demo (To be completed)

### How does it work
To be completed
![](https://images.plurk.com/2NDcHsv4PFLWX5q64zHts7.jpg )

### Limitations
To be completed

### Docs
To be completed
